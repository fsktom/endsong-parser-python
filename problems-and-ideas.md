# Problems and Ideas

Well, this script is not perfect. Here I will write about the problems that may come up, bugs and suggestions on what to add/change.

## Possible problems

- if two artists have the same name
  - possible solution: using the Spotify API
- duplicate `endsong.json` files
  - checking name of file won't be enough

## Suggestions / Ideas

- use case: Jupyter Notebook instead of interactive shell? (well both -> add instructions/try it out)
- use Cython to speed up some stuff
  - [tutorial](https://youtu.be/mXuEoqK4bEc)
  - maybe the process of gathering data for relative graphs?
- IMPORTANT:
  - SUCH DOCSTRING that VSC shows the correct docstring for each parameter as I'm writing (see how it's when typing the possible parameter for `range()`)
- export the .json to a compaible format for [Last.fm Scrubbler](https://github.com/SHOEGAZEssb/Last.fm-Scrubbler-WPF) -> ListenBrainz
- add the ability the view total time listened (in minutes/hours...)
- change "title" aspect to "track"
- change how the list is showed
- podcast support (podcast listens are in `endsong.json` but are ignored by the script)
  - maybe support for endvideo.json?
- faster relative graphs and parsing of data
  - Cython or this other library?
  - more approximating for relative graphs
- GUI
- Spotify API
- transformation into web app/mobile app
  - obviously not using Python
- comparison of two graphs
  - e.g. comparison of all-time listens of one artist vs the other
  - or one artist vs a specific song of that artist (to see what proportion that song has graphically)
  - the larger scale would be taken
- input of paths via a `+paths.txt` or similar (see [Instaloader](https://github.com/instaloader/instaloader) for comparison) where each line is a separate path
- add a `requirements.txt` file [gallery-dl example](https://github.com/mikf/gallery-dl/blob/master/requirements.txt)
- add a `--help` argument (see [gallery-dl](https://github.com/mikf/gallery-dl) or [instaloader](https://github.com/instaloader/instaloader))
- [colorama](https://github.com/tartley/colorama) for colored text in terminal
  - maybe to separate track, artist, album, no.?
- DOCSTRINGS
  - [compare Spotipy](https://github.com/plamere/spotipy) - [their readthedocs](https://spotipy.readthedocs.io/)
  - [and this amazing video](https://youtu.be/JQ8RQru-Y9Y)
- docstrings - how to properly format them (conventions)
  - [Sphinx markup](https://stackoverflow.com/a/40596167/6694963)
    - [see this guide for writing docstrings from Sphinx docs](https://sphinx-rtd-tutorial.readthedocs.io/en/latest/docstrings.html)
  - [This](https://stackoverflow.com/a/10065932/6694963) or [that](https://stackoverflow.com/a/9195565/6694963)
- for `print_top()` and others: add argument for date range
- add a analysis function - e.g. year in review
  - comparison with previous years etc.
  - a lot of stuff can be done here
  - data analysis (Derek Banas?)
- `ms_played` key in endsong.json
  - do we count it as a listen if it is less than half of track length? what is Spotify's threshhold for putting an entry in nedsong.json?
- make a dummy/example endsong.json for testing purposes only (with personal data such as username, public IP etc. removed)
- make enum Field that is child of Aspect that has Field.STREAMS
  - maybe @dataclass decorator and make the resulting dict sortable by num of streams?? using sorted(dict)
- [x] [add yaml file for conda env](https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#create-env-file-manually)
  - channels: `conda-forge`
  - [YT video about conda basics](https://youtu.be/1VVCd0eSkYc)
- update to Python 3.10 to use the new switch-case equivalent (for aspect == Aspect.TITLE and stuff)
- [static typing](https://towardsdatascience.com/how-to-make-python-statically-typed-the-essential-guide-e087cf4fa400)
- pylint and mypy - [Instaloader contributing page](https://instaloader.github.io/contributing.html)
- also, for Sphinx see e.g. Instaloader class in this file [Instaloader main file](https://github.com/instaloader/instaloader/blob/master/instaloader/instaloader.py)
- comparison of `endsong.json` files from two different people (two different sets)
- maybe write a library in Rust for gathering/calculating data and the UI in Python?
  - [r/rust thread](https://www.reddit.com/r/rust/comments/t8k9lo/rust_and_python_working_together/) 
- for print aspect add extended=False parameter -> maybe like analyze the data to look for day/week with most streams etc
- Instead of having to put in Aspect.ARTIST e.g. allow "artist" but look of the parameter is in Aspect
- View % of total listens are top n aspects (e.g. how many % of total listens are my top 10 songs)
- Add resolution Parameter to rel_graph
  - Day, week maybe month as well as lowest
  - Because with lower resolution it should take a shorter amount of time to generate Right?
- Wrapper functions? For exception handling?
  - One function for the functionality (internal/private) and another intended to be used by the user?
- Usage: either python interactive shell or Jupiter notebook
- Print list aspect: percent choose parent
  - e.g for song: % of album or artist or whole (in selected time frame)
- Combining aspects
  - e.g. graph: 2 graphs for two aspects or one graph but whose values are summed up!
  - e.g. for stuff like japanese indie rock
    - For which there is not a single artist/album etc
- Wrapper functions/class for user interface
  - Instead of private methods make a wrapper class that is supposed to just call other classes' functions?
- Idk if it's possible rn because I haven't worked with/on it for a long time
  - But a relative graph of an aspect above it:
    - eg % a song of album/artist/whole, % an album of artist/whole, % an artist of whole
  - Well rel. Graph + Option for printing (In the given timeframe)
- CACHE
  - so that the program doesn't have to calcualte EVERYTHING every time
